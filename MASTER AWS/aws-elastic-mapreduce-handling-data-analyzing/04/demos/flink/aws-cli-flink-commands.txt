// CREATE EMR CLUSTER WITH FLINK INSTALLED

aws emr create-cluster --name "Cluster with Flink" --release-label emr-5.25.0 \
--applications Name=Flink --ec2-attributes KeyName=admin \
--use-default-roles \
--instance-groups InstanceGroupType=MASTER,InstanceCount=1,InstanceType=m4.large,BidPrice=0.5 InstanceGroupType=CORE,InstanceCount=1,InstanceType=m4.large,BidPrice=0.5 \
--log-uri s3://pluralsight-emr-lesson/logs --enable-debugging


// MAKE HADOOP FLINK INPUT AND OUTPUT SYSTEM
hadoop fs -mkdir hdfs:///flink_input


// COPY AWS DATA FROM S3 TO HDFS 
hadoop fs -cp s3://elasticmapreduce/samples/wordcount/input/0009 hdfs:///flink_input/


// FUN FLINK 
HADOOP_CONF_DIR=/etc/hadoop/conf flink run -m yarn-cluster -yn 3 -yjm 1024 -ytm 4096 /usr/lib/flink/examples/batch/WordCount.jar -i hdfs:///flink_input -o hdfs:///flink_output